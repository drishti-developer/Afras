<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
		<record id="asset_sale_form" model="ir.ui.view">
            <field name="name">asset.sale.form</field>
            <field name="model">asset.sale</field>
            <field name="arch" type="xml">
                <form string="Sale Details" version="7.0">
                	<header>
                    	<button name="confirm" type="object" string="Confirm Sale" states='draft'/>
                    	<button name="sell_asset" type="object" string="Sale" states='ready'/>
                    	<button name="cancel" type="object" string="Cancel Sale" states='draft,ready'/>
                    	<field name="state" widget="statusbar" statusbar_visible="draft,ready,sold" />
                	</header>
                	<sheet string="Asset Detail">
	                	<group col="4" colspan="2" string="Asset Details">
	                	<group>
	                		<field name="asset_id" on_change='onchange_asset(asset_id)'/>
	                		<field name='partner_id' states='ready,sold' attrs="{'required':[('state','!=','draft')]}"/>
	                		<field name="vehicle_id"/>
	                		<field name="property_asset_sale_journal"/>
	                		</group>
	                		<group>
	                		<field name="date"/>
	                    	<field name="amount" attrs="{'required':[('state','!=','draft')]}"/>
	                		</group>
	                	</group>
                    </sheet> 
                </form>
            </field>
        </record>
        
      <record id="asset_sale_tree" model="ir.ui.view">
            <field name="name">asset.sale.tree</field>
            <field name="model">asset.sale</field>
            <field name="priority">4</field>
            <field name="arch" type="xml">
                <tree colors="blue:state == 'ready';gray:state == 'cancel'" string="Asset Sell Detail" >
                    <field name="asset_id" on_change='onchange_asset(asset_id)'/>
               		<field name='partner_id' attrs="{'required':[('state','!=','draft')]}"/>
               		<field name="vehicle_id"/>
                    <field name="date"/>
	                <field name="amount" attrs="{'required':[('state','!=','draft')]}"/>
                    <field name="state"/>
                </tree>
            </field>
      </record>

      <record id="action_sale_assets" model="ir.actions.act_window">
            <field name="name">Asset Sale Detail</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">asset.sale</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
      </record> 
      
      <menuitem action="action_sale_assets" id="menu_sale_asset" parent='account.menu_finance_receivables' name = "Asset Sale Details" sequence="4"/>
      
    
    </data>
</openerp>
      